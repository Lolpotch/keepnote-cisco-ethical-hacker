<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module 8 Post Exploitation</title>
</head><body><span style="font-size: 14pt">8.1 Creating a Foothold and Maintaining Persistence After Compromising a System<br/>
<br/>
After exploit:<br/>
Creating a bind or reverse shell<br/>
Creating and manipulating scheduled jobs and tasks<br/>
Creating custom daemons and processes<br/>
Creating new users<br/>
Creating additional backdoors<br/>
<br/>
Maintain persistence:<br/>
Uploading additional tools<br/>
Using local system tools<br/>
Performing ARP scans and ping sweeps<br/>
Conducting DNS and directory services enumeration<br/>
Launching brute-force attacks<br/>
Performing additional enumeration of users, groups, forests, sensitive data, and unencrypted files<br/>
Performing system manipulation using management protocols (for example, WinRM, WMI, SMB, SNMP) and compromised credentials<br/>
Executing additional exploits<br/>
<br/>
For compromised systems:<br/>
Configuring port forwarding<br/>
Creating SSH tunnels or proxies to communicate to the internal network<br/>
Using a VPN to access the internal network<br/>
<br/>
8.1.2 Reverse and Bind Shells<br/>
<br/>
Bind Shell<br/>
<img src="image.png" width="650" height="188" /><br/>
<br/>
Reverse Shell<br/>
<img src="image 2.png" width="650" height="177" /><br/>
<br/>
Netcat:<br/>
Creating a Bind Shell Using Netcat<br/>
Connecting to the Bind Shell by Using Netcat<br/>
An Attacker Connected to a Victim Using a Bind Shell<br/>
<br/>
Creating a Listener in the Attacking System to Create a Reverse Shell Using Netcat<br/>
Connecting to the Attacking System (Reverse Shell) Using Netcat<br/>
Executing Commands in the Victim’s System via a Reverse Shell<br/>
<br/>
Commands:<br/>
nc -nv &lt;IP Address&gt; &lt;Port&gt;<br/>
nc -1vp &lt;port&gt;<br/>
nc -1vp 1234 &gt; output.txt # Receiving system<br/>
nc -nv &lt;IP Address&gt; &lt; input.txt # Sending system<br/>
nc -nv &lt;IP Address&gt; 80 GET / HTTP/1.1<br/>
nc -z &lt;IP Address&gt; &lt;port range&gt;<br/>
<br/>
Meterpreter Commands:<br/>
cat, cd, pwd, and 1s<br/>
1pwd and 1cd<br/>
clearev<br/>
download<br/>
edit<br/>
execute<br/>
getuid<br/>
hashdump<br/>
idletime<br/>
ipconfig<br/>
migrate<br/>
ps<br/>
resource<br/>
search<br/>
shell<br/>
upload<br/>
webcam_list<br/>
webcam_snap<br/>
<br/>
8.1.4 Command and Control (C2) Utilities<br/>
<br/>
<img src="image 3.png" width="650" height="341" /><br/>
socat<br/>
wsc2<br/>
WMImplant<br/>
DropboxC2 (DBC2)<br/>
TrevorC2<br/>
Twittor<br/>
DNSCat2<br/>
<br/>
8.1.6 Scheduled Jobs and Tasks<br/>
Windows Task Scheduler<br/>
steal data over time without raising alarms<br/>
<br/>
8.1.7 Custom Daemons, Processes, and Additional Backdoors<br/>
8.1.8 New Users<br/>
<br/>
8.2 Lateral Movement, Detection Avoidance, and Enumeration<br/>
<br/>
8.2.2 Post-Exploitation Scanning<br/>
Remote access protocols<br/>
Microsoft’s Remote Desktop Protocol (RDP)<br/>
Apple Remote Desktop<br/>
VNC<br/>
X server forwarding<br/>
<br/>
Metasploit RDP Post-Exploitation Module<br/>
<br/>
8.2.3 Legitimate Utilities and Living-off-the-Land<br/>
Living-off-the-Land (fileless malware):<br/>
PowerShell for Post-Exploitation Tasks<br/>
PowerSploit and Empire<br/>
BloodHound<br/>
Windows Management Instrumentation<br/>
Sysinternals and PsExec<br/>
Windows Remote Management (WinRM)<br/>
<br/>
8.2.5 Post-Exploitation Privilege Escalation<br/>
Vertical Privilege Escalation<br/>
Horizontal Privilege Escalation<br/>
<br/>
8.2.7 How to Cover Your Tracks<br/>
Delete all user accounts used during the test.<br/>
Delete all files, executable binaries, scripts, and temporary files from compromised systems. A secure deletion method may be preferred. NIST Special Publication 800-88, Revision 1: “Guidelines for Media Sanitization,” provides guidance for media sanitation. This methodology should be discussed with your client and the owner of the affected systems.<br/>
Return any modified systems and their configuration to their original values and parameters.<br/>
Remove all backdoors, daemons, services, and rootkits installed.<br/>
Remove all customer data from your systems, including attacking systems and any other support systems. Typically, you should do this after creating and delivering the penetration testing report to the client.<br/>
<br/>
Steganography<br/>
steghide<br/>
<br/>
<br/>
&lt;END&gt;</span></body></html>